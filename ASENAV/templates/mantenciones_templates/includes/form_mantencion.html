<form id="mantencion-form" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="row">
        <div class="col-md-6">{{ form.equipo.label_tag }}{{ form.equipo }}</div>
        <div class="col-md-6">{{ form.encargado.label_tag }}{{ form.encargado }}</div>
    </div>
    <div class="row">
        <div class="col-md-6">{{ form.fecha_programada.label_tag }}{{ form.fecha_programada }}</div>
        <div class="col-md-6">{{ form.intervalo_dias.label_tag }}{{ form.intervalo_dias }}</div>
    </div>
    <div class="mb-3">{{ form.descripcion_general.label_tag }}{{ form.descripcion_general }}</div>
    <div class="mb-3">{{ form.correos_notificacion.label_tag }}{{ form.correos_notificacion }}</div>

    <div class="mb-3">
        <label for="archivos">Archivos adjuntos</label>
        <input type="file" name="archivos[]" multiple class="form-control" accept=".pdf,.doc,.docx,.xls,.xlsx,.xlsm"
            onchange="validarArchivos(this)">
    </div>
    <div class="mb-3">
        <h6>Repuestos utilizados</h6>
        <div id="repuestos-container">
            <div class="repuesto-item mb-2">
                <select name="repuesto_id[]" class="form-select">
                    {% for r in repuestos %}
                        <option value="{{ r.id }}">{{ r.nombre }}</option>
                    {% endfor %}
                </select>
                <input type="number" name="cantidad_usada[]" class="form-control mt-1" placeholder="Cantidad usada"
                    min="1">
            </div>
        </div>
        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="agregarRepuesto()">+ Agregar
            repuesto</button>
    </div>

    <div class="text-end">
        <button type="submit" class="btn btn-success">Guardar Mantenci√≥n</button>
    </div>
</form>